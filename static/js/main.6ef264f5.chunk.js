(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],Array(49).concat([function(e,t,a){e.exports=a(121)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(42),s=a.n(r),l=(a(54),a(55),a(9)),i=a(10),o=a(12),u=a(11),m=(a(56),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"Background"},this.props.children)}}]),a}(n.Component)),d=function(e){return e.children},f=(a(57),a(58),function(e){return c.a.createElement("div",{className:"Image"})}),p=(a(59),a(60),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).changeHandler=function(t){var a=t.target.value;e.props.setData(a)},e}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement(d,null,c.a.createElement("div",{className:"Input"},c.a.createElement("div",{className:"Block"},c.a.createElement("label",null,this.props.label),c.a.createElement("input",{type:this.props.type,onChange:this.changeHandler}))))}}]),a}(n.Component)),h=(a(61),a(62),function(e){return c.a.createElement(d,null,c.a.createElement("button",{className:e.className,onClick:e.clicked},e.title))}),E=a(43),b=a.n(E),v=a(8),k=a.n(v),g=k.a.get("access_token"),O=k.a.get("client"),j=k.a.get("uid"),y=b.a.create({baseURL:"https://herokutuan.herokuapp.com",headers:{Authorization:"Bearer ya29.a0AfH6SMC3w1tXe7lCUECmZhkZZ1tRIaeYTrcF1B9_Bk7PFJcfbuxds7nEqowZQNqBs4_JBrnA9a2dDuY_r58jnUl0zgtBUZz95iTKwlVhvVzWgpaJzsiqD7045KO-NdLCa1TT7ZhZcP6npf_Ofb_Y-fkN9ZVgGjG",uid:"".concat(j),"access-token":"".concat(g),client:"".concat(O),"Content-Type":"application/json"}}),w=(a(89),function(){return c.a.createElement(d,null,c.a.createElement("div",{className:"Spinner"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))}),N=a(124),S=a(44),x=Object(S.a)({forceRefresh:!0}),C=a(22),L=a.n(C),T=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:"",message:!1,loading:!1},e.setEmail=function(t){e.setState({email:t})},e.setPassword=function(t){e.setState({password:t})},e.loginHandler=function(){e.setState({loading:!0}),y.post("/auth/sign_in",e.state).then((function(t){e.setState({loading:!1});var a=t.headers;k.a.set("isLoggedIn",!0),k.a.set("access_token",a["access-token"]),k.a.set("client",a.client),k.a.set("uid",a.uid),x.push({pathname:"/"})})).catch((function(t){e.setState({loading:!1}),e.setState({message:t.response.data.errors})}))},e.keyPress=function(){e.loginHandler()},e}return Object(i.a)(a,[{key:"render",value:function(){return!0===k.a.get("isLoggedIn")?x.push("/"):c.a.createElement(d,null,c.a.createElement(L.a,{handleKeys:["enter"],onKeyEvent:this.keyPress},c.a.createElement("div",{className:"LoginForm"},c.a.createElement("h2",{className:"Title"},"Login"),this.state.message?this.state.message.map((function(e){return c.a.createElement("p",{key:e,style:{color:"red",textAlign:"center",marginTop:"3px"}},e)})):"",this.props.isRegistered?c.a.createElement("p",{style:{color:"#a8df65",textAlign:"center"}},"Successful Register, Log In to continue !"):"",c.a.createElement(p,{label:"Email",type:"email",setData:this.setEmail}),c.a.createElement(p,{label:"Password",type:"password",setData:this.setPassword}),c.a.createElement("div",{className:"ButtonGroup"},c.a.createElement(h,{className:"LoginButton",title:"Login",clicked:this.loginHandler}),c.a.createElement(h,{className:"RegisterButton",title:"Register",clicked:this.props.clickedRegisterButton})),this.state.loading?c.a.createElement("div",{className:"SpinnerContainer"},c.a.createElement(w,null)):"")))}}]),a}(n.Component),_=Object(N.d)(T),D=a(46),B=(a(94),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).changeHandler=function(t){var a=t.target.value;e.props.setData(a)},e}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement(d,null,c.a.createElement("div",{className:"Input"},c.a.createElement("div",{className:"Block"},c.a.createElement("label",null,this.props.label),this.props.message?c.a.createElement("p",null):c.a.createElement("p",{style:{color:"red"}},"Password does not match"),c.a.createElement("input",{type:this.props.type,onChange:this.changeHandler}))))}}]),a}(n.Component)),I=(a(95),function(e){return c.a.createElement(d,null,c.a.createElement("button",{className:e.className,onClick:e.clicked,disabled:e.disabled},e.title))}),A=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={firstName:"",lastName:"",email:"",password:"",rightPassword:!0,loading:!1,message:!1,done:!1},e.setFirstname=function(t){e.setState({firstName:t})},e.setLastname=function(t){e.setState({lastName:t})},e.setEmail=function(t){e.setState({email:t})},e.setPassword=function(t){e.setState({password:t})},e.checkConfirm=function(t){0!==t.length&&e.setState({rightPassword:t===e.state.password})},e.registerHandler=function(){if(e.setState({loading:!0}),e.state.rightPassword){var t={name:e.state.firstName+e.state.lastName,email:e.state.email,password:e.state.password};y.post("/auth",t).then((function(t){e.setState({loading:!1}),k.a.set("successfulRegister",!0),e.setState({done:!0}),e.props.done(e.state.done)})).catch((function(t){e.setState({loading:!1});var a=t.response.data.errors.full_messages,n=Object.keys(a).map((function(e){return Number(e)})).map((function(e){return Object(D.a)(Array(a[e]))})).reduce((function(e,t){return e.concat(t)})).map((function(e){return c.a.createElement("p",{keys:e,style:{color:"red",textAlign:"center",marginTop:"3px"}},e)}));e.setState({message:n})}))}},e.pressKey=function(){e.registerHandler()},e}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement(d,null,c.a.createElement(L.a,{handleKeys:["enter"],onKeyEvent:this.pressKey},c.a.createElement("div",{className:"RegisterForm"},c.a.createElement("h2",{className:"Title"},"Register"),this.state.message,c.a.createElement(B,{label:"First Name",type:"text",setData:this.setFirstname,message:!0}),c.a.createElement(B,{label:"Last Name",type:"text",setData:this.setLastname,message:!0}),c.a.createElement(B,{label:"Email",type:"email",setData:this.setEmail,message:!0}),c.a.createElement(B,{label:"Password",type:"password",setData:this.setPassword,message:!0}),c.a.createElement(B,{label:"Confirm Password",type:"password",setData:this.checkConfirm,message:this.state.rightPassword}),c.a.createElement("div",{className:"ButtonGroup"},c.a.createElement(I,{className:"RegisterButton",title:"Register Now",clicked:this.registerHandler}),c.a.createElement(I,{className:"LoginButton",clicked:this.props.clickedLoginButton,title:"Have an account"})),this.state.loading?c.a.createElement("div",{className:"SpinnerContainer"},c.a.createElement(w,null)):"")))}}]),a}(n.Component),P=function(e){return c.a.createElement("div",{className:"Main"},e.show?c.a.createElement(_,{clickedRegisterButton:e.showRegisterForm,isRegistered:e.registered}):c.a.createElement(A,{clickedLoginButton:e.showLoginForm,done:e.successfulRegister}))},M=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={show:!0,successfulRegister:!1},e.showRegisterFormHandler=function(){e.setState({show:!1})},e.showLoginFormHandler=function(){e.setState({show:!0})},e.loginStep=function(t){t&&e.setState({show:!0,successfulRegister:!0})},e}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement(d,null,c.a.createElement("div",{className:"Welcome"},c.a.createElement(P,{show:this.state.show,showRegisterForm:this.showRegisterFormHandler,showLoginForm:this.showLoginFormHandler,successfulRegister:this.loginStep,registered:this.state.successfulRegister}),c.a.createElement(f,null)))}}]),a}(n.Component),R=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement(m,null,c.a.createElement(M,null))}}]),a}(n.Component),H=a(3),F=a.n(H),q=a(7),J=a(1),W=(a(97),a(98),a(99),a(4)),Y=function(e){return c.a.createElement(d,null,c.a.createElement("div",{className:"Item",onClick:e.click},c.a.createElement("div",{className:"Icon"},c.a.createElement(W.a,{icon:e.icon,color:e.color})),c.a.createElement("p",{className:"Label"},e.label),c.a.createElement("p",{className:"Number"},e.number)))},K=a(2);var Z=function(e){var t=!0,a=!1,n=!1;return 0===e.controller?(t=!0,a=!1,n=!1):1===e.controller?(t=!1,a=!0,n=!1):(t=!1,a=!1,n=!0),c.a.createElement(d,null,c.a.createElement("div",{className:"SideBar"},t?c.a.createElement(Y,{icon:K.l,label:"Todo",number:e.tasklists,color:"#5cb85c",click:e.clickTodo}):c.a.createElement(Y,{icon:K.l,label:"Todo",number:e.tasklists,color:"white",click:e.clickTodo}),a?c.a.createElement(Y,{icon:K.g,label:"Inbox",number:e.shared,color:"#5cb85c",click:e.clickInBox}):c.a.createElement(Y,{icon:K.g,label:"Inbox",number:e.shared,color:"white",click:e.clickInBox}),n?c.a.createElement(Y,{icon:K.c,label:"Share",number:e.share,color:"#5cb85c",click:e.clickShare}):c.a.createElement(Y,{icon:K.c,label:"Share",number:e.share,color:"white",click:e.clickShare})))};a(102),a(103),a(104);var z=function(e){var t=Object(n.useState)(e.check),a=Object(J.a)(t,2),r=a[0],s=a[1],l=Object(n.useState)(!1),i=Object(J.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(e.name),f=Object(J.a)(m,2),p=f[0],h=f[1],E=Object(n.useState)(e.name),b=Object(J.a)(E,2),v=b[0],k=b[1],g=Object(n.useState)(!1),O=Object(J.a)(g,2),j=O[0],w=O[1];return Object(n.useEffect)((function(){function t(){return(t=Object(q.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.patch("/task_lists/".concat(e.tasklistId,"/todos/").concat(e.id),{done:"".concat(r)});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[r]),c.a.createElement(d,null,j?"":c.a.createElement("div",{className:"TodoMain"},c.a.createElement("div",{className:"TodoMainCheckbox"},o?c.a.createElement("input",{type:"text",value:v,onChange:function(e){var t=e.target.value;k(t)}}):c.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},c.a.createElement("input",{type:"checkbox",checked:r,onChange:function(){return s(!r)}}),c.a.createElement("label",{style:{fontFamily:"inherit",fontWeight:"100"}},p))),c.a.createElement("div",{className:"TodoMainIcon"},o?c.a.createElement(W.a,{icon:K.d,style:{cursor:"pointer"},onClick:function(){y.patch("/task_lists/".concat(e.tasklistId,"/todos/").concat(e.id),{name:"".concat(v)}).then((function(e){u(!1),h(v)})).catch((function(e){console.log(e)}))}}):c.a.createElement(W.a,{icon:K.f,style:{cursor:"pointer"},onClick:function(){u(!0)}}),o?c.a.createElement(W.a,{icon:K.m,style:{cursor:"pointer"},onClick:function(){u(!1),k(p)}}):c.a.createElement(W.a,{icon:K.n,style:{cursor:"pointer"},onClick:function(){y.delete("/task_lists/".concat(e.tasklistId,"/todos/").concat(e.id)).then((function(e){w(!0)})).catch((function(e){console.log(e)}))}}))))};a(105);var U=function(e){return c.a.createElement(d,null,c.a.createElement("div",{className:"AddTodoMain"},c.a.createElement(W.a,{icon:K.h,onClick:e.click,className:"AddTodoMainBtn"}),c.a.createElement("input",{type:"text",placeholder:"Add todo",onChange:function(t){var a=t.target.value;e.setData(a)},value:e.value})))};a(106);var G=function(e){var t=Object(n.useState)([]),a=Object(J.a)(t,2),r=a[0],s=a[1],l=Object(n.useState)(!1),i=Object(J.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(e.name),f=Object(J.a)(m,2),p=f[0],h=f[1],E=Object(n.useState)(e.name),b=Object(J.a)(E,2),v=b[0],k=b[1],g=Object(n.useState)(!1),O=Object(J.a)(g,2),j=O[0],w=O[1],N=Object(n.useState)([]),S=Object(J.a)(N,2),x=(S[0],S[1],Object(n.useState)("")),C=Object(J.a)(x,2),L=C[0],T=C[1],_=Object(n.useState)(""),D=Object(J.a)(_,2),B=D[0],I=D[1],A=Object(n.useState)(!1),P=Object(J.a)(A,2),M=P[0],R=(P[1],Object(n.useState)(!1)),H=Object(J.a)(R,2),Y=(H[0],H[1],Object(n.useState)("")),Z=Object(J.a)(Y,2),G=(Z[0],Z[1],Object(n.useState)([])),V=Object(J.a)(G,2),Q=(V[0],V[1]);Object(n.useEffect)((function(){function t(){return(t=Object(q.a)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.request("/task_lists/".concat(e.id,"/todos"));case 3:a=t.sent,s(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[o]),Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.request("/users");case 3:t=e.sent,Q(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function t(){return(t=Object(q.a)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.request("/users");case 3:a=t.sent,a.data.map((function(t){t.id===e.user_id&&I(t.email)})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var X=function(e){w(!1),h(v)},$=function(e){""!==L&&(u(!0),y.post("/task_lists/".concat(e,"/todos"),JSON.stringify({name:"".concat(L)})).then((function(e){T(""),u(!1)})).catch((function(e){console.log(e)})))};return c.a.createElement(d,null,c.a.createElement("div",{className:"TaskListMain"},c.a.createElement("div",{className:"TaskListMainName"},j?c.a.createElement("input",{type:"text",style:{opacity:"1"},value:p,onChange:function(e){var t=e.target.value;h(t)}}):c.a.createElement("h2",{style:{opacity:"1"}},v,"  ",c.a.createElement("span",{style:{color:"black",fontSize:"10px"}},"(",r.length,")")),c.a.createElement("div",{className:"TaskListMainNameIcon"},j?c.a.createElement(W.a,{icon:K.d,onClick:function(){y.patch("/task_lists/".concat(e.id),{name:"".concat(p)}).then((function(e){w(!1),k(p)})).catch((function(e){console.log(e)}))}}):c.a.createElement(W.a,{icon:K.f,onClick:function(){w(!0)}}),j?c.a.createElement(W.a,{icon:K.m,onClick:X}):c.a.createElement(W.a,{icon:K.m,onClick:X,style:{display:"none"}}))),c.a.createElement("div",{className:"TodosMain"},r.map((function(t){return c.a.createElement(z,{check:t.done,name:t.name,id:t.id+t.name,key:e.id,tasklistId:e.id})}))),e.edit?c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(U,{setData:T,click:function(){return $(e.id)},value:L}),c.a.createElement("div",{className:"DeleteBtn"},c.a.createElement(W.a,{icon:K.o,color:"red",onClick:e.clickDeleteBtn}))),c.a.createElement("h6",{style:{opacity:"0"}},"You do not have edit permission")):c.a.createElement("div",null,c.a.createElement("div",{style:{opacity:"0"}},c.a.createElement(U,{setData:T,click:function(){return $(e.id)},value:L}),c.a.createElement("div",{className:"DeleteBtn"},c.a.createElement(W.a,{icon:K.o,color:"red",onClick:e.clickDeleteBtn}))),c.a.createElement("h6",{style:{opacity:"1"}},"You do not have edit permission")),e.user_id?c.a.createElement("h6",{style:{textAlign:"center",color:"black"}},"Shared by ",B):null,M?c.a.createElement("h6",{style:{textAlign:"center",color:"black"}},"Sharing with ",M):null))},V=a(122),Q=a(123);var X=function(e){var t=Object(n.useState)([e.tasklists]),a=Object(J.a)(t,2),r=a[0],s=a[1],l=Object(n.useState)(!1),i=Object(J.a)(l,2),o=i[0],u=i[1];Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.request("/task_lists");case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o]),Object(n.useEffect)((function(){function t(){return(t=Object(q.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s(e.tasklists);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.tasklists]);var m=r.map((function(e){return c.a.createElement(V.a,{lg:3,key:e.id},c.a.createElement(G,{name:e.name,id:e.id,key:e.id+e.name,clickDeleteBtn:function(){return t=e.id,u(!0),void y.delete("/task_lists/".concat(t)).then((function(e){u(!1)})).catch((function(e){console.log(e)}));var t},edit:!0}))}));return c.a.createElement(d,null,c.a.createElement("div",{className:"MainDisplay"},e.children,c.a.createElement("div",{className:"TaskListArea"},c.a.createElement(Q.a,null,m))))},$=(a(107),a(108),a(109),function(e){return c.a.createElement(d,null,c.a.createElement("div",{className:"DropMenuItem",onClick:e.clicked},c.a.createElement(W.a,{icon:e.icon}),c.a.createElement("p",null,e.label)))}),ee=function(e){return c.a.createElement(d,null,c.a.createElement("div",{className:"DropMenu"},c.a.createElement($,{label:"Profile",icon:K.a}),c.a.createElement($,{label:"Log Out",icon:K.k,clicked:e.clickedSignOutButton})))},te=(a(110),function(e){return c.a.createElement(d,null,c.a.createElement("div",{className:"Logo",onClick:e.clickedLogo},c.a.createElement("p",null,"Suynghidi")))}),ae=(a(111),function(e){return c.a.createElement(d,null,c.a.createElement("div",{className:"Search"},c.a.createElement(W.a,{icon:K.i,color:"black"}),c.a.createElement("input",{type:"text",placeholder:"Name of Tasklist..."})))}),ne=(a(112),function(e){return c.a.createElement(d,null,c.a.createElement("div",{className:"Sayhi"},c.a.createElement("p",null,e.name),c.a.createElement("div",{className:"DropDown",onClick:e.clickedDropDown},c.a.createElement(W.a,{icon:K.b,color:"black"}))))}),ce=(a(113),function(e){return c.a.createElement(d,null,c.a.createElement("div",{className:"DrawerToggle",onClick:e.clicked},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))}),re=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={showDropMenu:!1},e.showDropMenu=function(){e.setState({showDropMenu:!e.state.showDropMenu})},e}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement(d,null,c.a.createElement("div",{className:"NavigationBar"},c.a.createElement(ce,null),c.a.createElement(te,{clickedLogo:this.props.refeshPage}),c.a.createElement(ae,null),c.a.createElement(ne,{clickedDropDown:this.showDropMenu,name:"Account"}),this.state.showDropMenu?c.a.createElement(ee,{clickedSignOutButton:this.props.clickedSignOutButton}):""))}}]),a}(n.Component),se=(a(114),a(115),function(e){return c.a.createElement(d,null,e.show?c.a.createElement("div",{className:"BackDrop",onClick:e.cancel}):null)}),le=function(e){return c.a.createElement(d,null,c.a.createElement(se,{show:e.show,cancel:e.cancel}),c.a.createElement("div",{className:"Modal",style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))};a(116),a(117);var ie=function(e){return c.a.createElement(d,null,c.a.createElement("div",{className:"InputTaskListArea"},c.a.createElement("label",null,e.name),c.a.createElement("input",{type:"text",onChange:function(t){var a=t.target.value;e.setData(a)}})))},oe=(a(118),function(e){return c.a.createElement("p",{className:"AddButtonSubmit",onClick:e.click},"Submit")});var ue=function(e){return c.a.createElement(d,null,c.a.createElement("div",{className:"AddTaskListPanel"},c.a.createElement("h2",null,"Add Task List"),e.message?c.a.createElement("p",{style:{color:"red"}},"You need to enter tasklist name"):null,c.a.createElement(ie,{name:"TaskList",setData:e.setTaskListName}),c.a.createElement(ie,{name:"Todo 1",setData:e.setTodo1Name}),c.a.createElement(ie,{name:"Todo 2",setData:e.setTodo2Name}),c.a.createElement(oe,{click:e.submitHandler}),e.loading?c.a.createElement("div",{className:"SpinnerContainer"},c.a.createElement(w,null)):null))};a(119);var me=function(e){var t=Object(n.useState)([e.tasklists]),a=Object(J.a)(t,2),r=a[0],s=a[1];Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.request("/shared");case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var l=r.map((function(e){return c.a.createElement(V.a,{lg:3,key:e.id},c.a.createElement(G,{name:e.name,id:e.id,key:e.id+e.name,edit:e.is_write,user_id:e.user_id}))}));return c.a.createElement(d,null,c.a.createElement("div",{className:"MainDisplay"},c.a.createElement("div",{className:"TaskListArea"},c.a.createElement(Q.a,null,l))))},de=a(30);var fe=function(e){var t=Object(n.useState)(e.is_write),a=Object(J.a)(t,2),r=a[0],s=a[1],l=Object(n.useState)(!1),i=Object(J.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)([]),d=Object(J.a)(m,2),f=d[0],p=d[1],h=e.user;Object(n.useEffect)((function(){function t(){return(t=Object(q.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.put("/task_lists/".concat(e.taskListId,"/share/").concat(e.user_id),{share_task:{is_write:"".concat(r)}});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[r]),Object(n.useEffect)((function(){function t(){return(t=Object(q.a)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.request("/task_lists/".concat(e.taskListId,"/todos"));case 3:a=t.sent,p(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.taskListId]);var E=c.a.createElement("div",{className:"TaskListMain",style:{width:"250px",margin:"10px"}},c.a.createElement("div",{className:"TaskListMainName"},c.a.createElement("h2",null,e.name,"  ",c.a.createElement("span",{style:{color:"black",fontSize:"10px"}},"(",f.length,")"))),c.a.createElement("div",{className:"TodosMain"},f.map((function(t){return c.a.createElement(z,{check:t.done,name:t.name,id:t.id,key:e.id,tasklistId:e.id})}))),c.a.createElement("span",{style:{color:"red",marginBottom:"20px"}},h[e.id]),c.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around",width:"150px"}},c.a.createElement("input",{type:"checkbox",checked:r,onChange:function(){return s(!r)}}),c.a.createElement("label",{style:{fontFamily:"inherit",fontWeight:"100"}},"Edit Permission")),c.a.createElement("div",{className:"DeleteBtn"},c.a.createElement(W.a,{icon:K.o,color:"red",onClick:function(){try{y.delete("task_lists/".concat(e.taskListId,"/share/").concat(e.user_id)),u(!0)}catch(t){console.log(t)}}})));return o?null:E};var pe=function(e){var t=Object(n.useState)({}),a=Object(J.a)(t,2),r=a[0],s=a[1],l=Object(n.useState)([]),i=Object(J.a)(l,2),o=i[0],u=i[1];Object(n.useEffect)((function(){function t(){return(t=Object(q.a)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.request("/task_lists/".concat(e.id,"/share"));case 3:a=t.sent,u(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(F.a.mark((function e(){var t,a,n,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.request("/users");case 3:t=e.sent,a=t.data,n=a.map((function(e){var t=e.id,a={id:e.email};return m(a,"id",t),a})),c=n.reduce((function(e,t){return Object(de.a)(Object(de.a)({},e),t)})),s(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var m=function(e,t,a){t!==a&&(Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(e,t)),delete e[t])},f=o.map((function(t){return c.a.createElement(fe,{key:t.user_id,user:r,id:t.user_id,taskListId:t.task_list_id,is_write:t.is_write,name:e.name,user_id:t.user_id})}));return c.a.createElement(d,null,c.a.createElement("div",{style:{marginBottom:"15px",padding:"10px",display:"flex",overflow:"scroll",maxWidth:"1200px"}},f))};var he=function(e){var t=Object(n.useState)([e.tasklists]),a=Object(J.a)(t,2),r=a[0],s=(a[1],r.reduce((function(e){return e})).map((function(e){return c.a.createElement("div",{key:e.id},c.a.createElement(pe,{name:e.name,id:e.id,key:e.id+e.name}))})));return c.a.createElement(d,null,c.a.createElement("div",{className:"MainDisplay"},c.a.createElement("div",{className:"TaskListArea"},s)))};a(120);var Ee=function(e){var t=!1;return e.correctEmail&&e.correctTaskList&&(t=!0),c.a.createElement(d,null,c.a.createElement("div",{className:"AddTaskListPanel ShareTaskListPanel"},c.a.createElement("h2",null,"Share Task List"),e.message?c.a.createElement("p",{style:{color:"red"}},"You need to enter tasklist name"):null,c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},c.a.createElement(ie,{name:"User Email",setData:e.setUserEmail}),e.correctEmail?c.a.createElement(W.a,{icon:K.d,color:"#00ff00"}):c.a.createElement(W.a,{icon:K.m,color:"#ff0000"})),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},c.a.createElement(ie,{name:"TaskList Name",setData:e.setTasklistName}),e.correctTaskList?c.a.createElement(W.a,{icon:K.d,color:"#00ff00"}):c.a.createElement(W.a,{icon:K.m,color:"#ff0000"})),c.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},onChange:function(t){var a=t.target.value;e.setData(a)}.bind(this)},c.a.createElement("label",null,"Edit Permission"),c.a.createElement("input",{type:"radio",value:"editor",name:"name"}),"Editor",c.a.createElement("input",{type:"radio",value:"watcher",name:"name"}),"Watcher"),c.a.createElement("button",{onClick:e.submitHandler,disabled:!t,style:{width:"30%",padding:"5px",backgroundColor:"#5cb85c",color:"white",outline:"none",border:"none"}},"Submit"),e.loading?c.a.createElement("div",{className:"SpinnerContainer"},c.a.createElement(w,null)):null))};var be=function(e){var t=Object(n.useState)([]),a=Object(J.a)(t,2),r=a[0],s=a[1],l=Object(n.useState)(!1),i=Object(J.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(!1),f=Object(J.a)(m,2),p=f[0],h=f[1],E=Object(n.useState)(""),b=Object(J.a)(E,2),v=b[0],g=b[1],O=Object(n.useState)(""),j=Object(J.a)(O,2),w=j[0],N=j[1],S=Object(n.useState)(""),C=Object(J.a)(S,2),L=C[0],T=C[1],_=Object(n.useState)(!1),D=Object(J.a)(_,2),B=D[0],I=D[1],A=Object(n.useState)(""),P=Object(J.a)(A,2),M=(P[0],P[1],Object(n.useState)([])),R=Object(J.a)(M,2),H=R[0],Y=R[1],z=Object(n.useState)([]),U=Object(J.a)(z,2),G=U[0],V=U[1],Q=Object(n.useState)(0),$=Object(J.a)(Q,2),ee=$[0],te=$[1],ae=Object(n.useState)(!1),ne=Object(J.a)(ae,2),ce=ne[0],se=ne[1],ie=Object(n.useState)(""),oe=Object(J.a)(ie,2),de=(oe[0],oe[1],Object(n.useState)("")),fe=Object(J.a)(de,2),pe=fe[0],be=fe[1],ve=Object(n.useState)(!1),ke=Object(J.a)(ve,2),ge=ke[0],Oe=ke[1],je=Object(n.useState)(!1),ye=Object(J.a)(je,2),we=ye[0],Ne=ye[1],Se=Object(n.useState)([]),xe=Object(J.a)(Se,2),Ce=xe[0],Le=xe[1],Te=Object(n.useState)(!1),_e=Object(J.a)(Te,2),De=_e[0],Be=_e[1],Ie=Object(n.useState)(""),Ae=Object(J.a)(Ie,2),Pe=Ae[0],Me=Ae[1],Re=Object(n.useState)(!1),He=Object(J.a)(Re,2);return He[0],He[1],Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.request("/task_lists");case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p]),Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.request("/task_lists");case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(F.a.mark((function e(){var t,a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.request("/task_lists");case 3:t=e.sent,a=t.data,n=[],a.map((function(e){if(0!==e.share_count){var t={id:e.id,name:e.name};n.push(t)}})),V(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p]),Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.request("/shared");case 3:t=e.sent,Y(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.request("/users");case 3:t=e.sent,Le(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c.a.createElement(d,null,c.a.createElement("div",{className:"WorkPlace"},c.a.createElement(Z,{clickTodo:function(){te(0)},clickInBox:function(){te(1)},clickShare:function(){te(2)},tasklists:r.length,share:G.length,shared:H.length,controller:ee}),c.a.createElement("div",{className:"ActionArea"},c.a.createElement(re,{refeshPage:function(){x.push("/account")},clickedSignOutButton:function(){k.a.set("isLoggedIn",!1),k.a.set("access_token",""),k.a.set("uid",""),k.a.set("client",""),x.push("/account")}}),0===ee?c.a.createElement(X,{tasklists:r},c.a.createElement(le,{show:B,cancel:function(){h(!1),u(!1),I(!1)}},c.a.createElement(ue,{setTaskListName:function(e){g(e.trim())},setTodo1Name:function(e){N(e.trim())},setTodo2Name:function(e){T(e.trim())},submitHandler:function(){h(!0),""===v?(u(!0),h(!1)):y.post("/task_lists",JSON.stringify({name:"".concat(v)})).then((function(e){var t=e.data.id;if(""===w){if(""===L)return h(!1),u(!1),void I(!1);y.post("/task_lists/".concat(t,"/todos"),JSON.stringify({name:"".concat(L)})).then((function(e){h(!1),u(!1),I(!1)})).catch((function(e){console.log(e)}))}else y.post("/task_lists/".concat(t,"/todos"),JSON.stringify({name:"".concat(w)})).then((function(e){if(""===L)return h(!1),u(!1),void I(!1);y.post("/task_lists/".concat(t,"/todos"),JSON.stringify({name:"".concat(L)})).then((function(e){h(!1),u(!1),I(!1)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},loading:p,message:o})),c.a.createElement(le,{show:ce,cancel:function(){h(!1),u(!1),se(!1),Ne(!1),Be(!1),be(""),Oe(!1),Me("")}},c.a.createElement(Ee,{setUserEmail:function(e){!0===De&&Be(!1),Ce.map((function(t){t.email===e&&(Be(!0),be(t.id))}))},setTasklistName:function(e){var t=e;!0===we&&Ne(!1),r.map((function(e){if(e.name===t)return Ne(!0),void Me(e.id)}))},submitHandler:function(){h(!0),y.post("/task_lists/".concat(Pe,"/share"),{user_id:"".concat(pe),is_write:"".concat(ge)}).then((function(e){h(!1),se(!1)})).catch((function(e){console.log(e)}))},loading:p,correctTaskList:we,correctEmail:De,setData:function(e){"editor"===e?Oe(!0):"watcher"===e&&Oe(!1)}})),c.a.createElement("div",{className:"TaskListOption"},c.a.createElement(W.a,{icon:K.h,onClick:function(){I(!0)}}),c.a.createElement(W.a,{icon:K.j,onClick:function(){se(!0)}}))):null,1===ee?c.a.createElement(me,{tasklists:H}):null,2===ee?c.a.createElement(he,{tasklists:G}):null)))},ve=k.a.get("isLoggedIn"),ke=function(){return!1===ve?x.push("/account"):c.a.createElement("div",{className:"HomePage"},c.a.createElement(be,null))};var ge=function(){return c.a.createElement(N.b,{history:x},c.a.createElement("div",{className:"App"},c.a.createElement(N.c,null,c.a.createElement(N.a,{path:"/account",component:R}),c.a.createElement(N.a,{path:"/",component:ke}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[49,1,2]]]);
//# sourceMappingURL=main.6ef264f5.chunk.js.map